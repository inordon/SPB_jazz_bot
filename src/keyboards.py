from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton, ReplyKeyboardMarkup, KeyboardButton
from typing import List, Dict
from config import config

class Keyboards:
    @staticmethod
    def main_menu() -> InlineKeyboardMarkup:
        """–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)"""
        buttons = [
            [InlineKeyboardButton(text="üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ", callback_data="schedule")],
            [InlineKeyboardButton(text="üó∫ –ù–∞–≤–∏–≥–∞—Ü–∏—è", callback_data="navigation")],
            [InlineKeyboardButton(text="üé´ –ë–∏–ª–µ—Ç—ã", callback_data="tickets")],
            [InlineKeyboardButton(text="üé® –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏", callback_data="activities")],
            [InlineKeyboardButton(text="üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞", callback_data="support")],
            [InlineKeyboardButton(text="üí≠ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å", callback_data="feedback")],
            [InlineKeyboardButton(text="üì± –°–æ—Ü.—Å–µ—Ç–∏", callback_data="social")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def main_menu_with_support_indicator(has_active_ticket: bool = False) -> InlineKeyboardMarkup:
        """–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–∫–µ—Ç–∞"""
        support_text = "üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞"
        if has_active_ticket:
            support_text = "üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞ üî¥"  # –ö—Ä–∞—Å–Ω—ã–π –∫—Ä—É–∂–æ–∫ = –∞–∫—Ç–∏–≤–Ω—ã–π —Ç–∏–∫–µ—Ç

        buttons = [
            [InlineKeyboardButton(text="üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ", callback_data="schedule")],
            [InlineKeyboardButton(text="üó∫ –ù–∞–≤–∏–≥–∞—Ü–∏—è", callback_data="navigation")],
            [InlineKeyboardButton(text="üé´ –ë–∏–ª–µ—Ç—ã", callback_data="tickets")],
            [InlineKeyboardButton(text="üé® –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏", callback_data="activities")],
            [InlineKeyboardButton(text=support_text, callback_data="support")],
            [InlineKeyboardButton(text="üí≠ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å", callback_data="feedback")],
            [InlineKeyboardButton(text="üì± –°–æ—Ü.—Å–µ—Ç–∏", callback_data="social")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def back_to_main() -> InlineKeyboardMarkup:
        """–ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""
        return InlineKeyboardMarkup(inline_keyboard=[
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ])

    @staticmethod
    def schedule_days() -> InlineKeyboardMarkup:
        """–í—ã–±–æ—Ä –¥–Ω—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è"""
        buttons = []
        for day in range(1, 6):
            buttons.append([InlineKeyboardButton(text=f"–î–µ–Ω—å {day}", callback_data=f"schedule_day_{day}")])
        buttons.append([InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")])
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def navigation_menu() -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏"""
        buttons = [
            [InlineKeyboardButton(text="üó∫ –ö–∞—Ä—Ç–∞ —Ñ–µ—Å—Ç–∏–≤–∞–ª—è", callback_data="map")],
            [InlineKeyboardButton(text="üçï –§—É–¥–∫–æ—Ä—Ç", callback_data="route_foodcourt")],
            [InlineKeyboardButton(text="üé® –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã", callback_data="route_workshops")],
            [InlineKeyboardButton(text="üõç –°—É–≤–µ–Ω–∏—Ä—ã", callback_data="route_souvenirs")],
            [InlineKeyboardButton(text="üöª –¢—É–∞–ª–µ—Ç—ã", callback_data="route_toilets")],
            [InlineKeyboardButton(text="üè• –ú–µ–¥–ø—É–Ω–∫—Ç—ã", callback_data="route_medical")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def tickets_menu() -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é –±–∏–ª–µ—Ç–æ–≤"""
        buttons = [
            [InlineKeyboardButton(text="üí≥ –ö—É–ø–∏—Ç—å –±–∏–ª–µ—Ç—ã", url=config.TICKET_PURCHASE_URL)],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def activities_menu() -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π"""
        buttons = [
            [InlineKeyboardButton(text="üé® –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã", callback_data="workshops")],
            [InlineKeyboardButton(text="üéì –õ–µ–∫—Ç–æ—Ä–∏–π", callback_data="lectures")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    # ================== –ü–û–î–î–ï–†–ñ–ö–ê V2 ==================

    @staticmethod
    def support_main_menu(ticket_id: int = None) -> InlineKeyboardMarkup:
        """–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ø–æ–¥–¥–µ—Ä–∂–∫–∏"""
        if ticket_id:
            # –ï—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Ç–∏–∫–µ—Ç
            buttons = [
                [InlineKeyboardButton(text="üí¨ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥",
                                      callback_data=f"continue_dialog_{ticket_id}")],
                [InlineKeyboardButton(text="üìã –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π",
                                      callback_data=f"show_history_{ticket_id}")],
                [InlineKeyboardButton(text="‚úÖ –ó–∞–∫—Ä—ã—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ",
                                      callback_data=f"close_ticket_{ticket_id}")],
                [InlineKeyboardButton(text="üÜï –ù–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ",
                                      callback_data="new_ticket")],
                [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
            ]
        else:
            # –ï—Å–ª–∏ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–∫–µ—Ç–∞
            buttons = [
                [InlineKeyboardButton(text="üÜï –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ",
                                      callback_data="new_ticket")],
                [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
            ]

        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def active_dialog_menu(ticket_id: int) -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞"""
        buttons = [
            [InlineKeyboardButton(text="üìã –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π",
                                  callback_data=f"show_history_{ticket_id}")],
            [InlineKeyboardButton(text="‚úÖ –ó–∞–∫—Ä—ã—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ",
                                  callback_data=f"close_ticket_{ticket_id}")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ —Ç–∏–∫–µ—Ç—É",
                                  callback_data=f"back_to_ticket_{ticket_id}")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def ticket_history_menu(ticket_id: int) -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é –∏—Å—Ç–æ—Ä–∏–∏ —Ç–∏–∫–µ—Ç–∞"""
        buttons = [
            [InlineKeyboardButton(text="üí¨ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥",
                                  callback_data=f"continue_dialog_{ticket_id}")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ —Ç–∏–∫–µ—Ç—É",
                                  callback_data=f"back_to_ticket_{ticket_id}")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def close_ticket_confirm(ticket_id: int) -> InlineKeyboardMarkup:
        """–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–∏–∫–µ—Ç–∞"""
        buttons = [
            [InlineKeyboardButton(text="‚úÖ –î–∞, –∑–∞–∫—Ä—ã—Ç—å",
                                  callback_data=f"confirm_close_{ticket_id}")],
            [InlineKeyboardButton(text="‚ùå –û—Ç–º–µ–Ω–∞",
                                  callback_data=f"back_to_ticket_{ticket_id}")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def after_ticket_closed() -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Ç–∏–∫–µ—Ç–∞"""
        buttons = [
            [InlineKeyboardButton(text="üÜï –ù–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ", callback_data="new_ticket")],
            [InlineKeyboardButton(text="üí≠ –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤", callback_data="feedback")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def rate_limit_warning(wait_seconds: int) -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ª–∏–º–∏—Ç–µ"""
        buttons = [
            [InlineKeyboardButton(text="üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞",
                                  callback_data="retry_support")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def new_ticket_options() -> InlineKeyboardMarkup:
        """–û–ø—Ü–∏–∏ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ç–∏–∫–µ—Ç–∞"""
        buttons = [
            [InlineKeyboardButton(text="üìù –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ",
                                  callback_data="new_ticket_text")],
            [InlineKeyboardButton(text="üì∑ –° —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–µ–π",
                                  callback_data="new_ticket_photo")],
            [InlineKeyboardButton(text="üìÑ –° –¥–æ–∫—É–º–µ–Ω—Ç–æ–º",
                                  callback_data="new_ticket_document")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥", callback_data="support")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    # ================== –û–ë–†–ê–¢–ù–ê–Ø –°–í–Ø–ó–¨ ==================

    @staticmethod
    def feedback_categories() -> InlineKeyboardMarkup:
        """–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏"""
        buttons = [
            [InlineKeyboardButton(text="üé™ –§–µ—Å—Ç–∏–≤–∞–ª—å –≤ —Ü–µ–ª–æ–º", callback_data="feedback_festival")],
            [InlineKeyboardButton(text="üçï –§—É–¥–∫–æ—Ä—Ç—ã", callback_data="feedback_food")],
            [InlineKeyboardButton(text="üé® –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã", callback_data="feedback_workshops")],
            [InlineKeyboardButton(text="üéì –õ–µ–∫—Ç–æ—Ä–∏–π", callback_data="feedback_lectures")],
            [InlineKeyboardButton(text="üèó –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞", callback_data="feedback_infrastructure")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def rating_keyboard() -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –æ—Ç 1 –¥–æ 5"""
        buttons = []
        for i in range(1, 6):
            star = "‚≠ê" * i
            buttons.append([InlineKeyboardButton(text=f"{star} {i}", callback_data=f"rating_{i}")])
        buttons.append([InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")])
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    # ================== –°–û–¶–ò–ê–õ–¨–ù–´–ï –°–ï–¢–ò ==================

    @staticmethod
    def social_networks() -> InlineKeyboardMarkup:
        """–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏"""
        buttons = []
        for name, url in config.SOCIAL_LINKS.items():
            buttons.append([InlineKeyboardButton(text=f"üì± {name}", url=url)])
        buttons.append([InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")])
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    # ================== –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨ ==================

    @staticmethod
    def admin_menu() -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ)"""
        buttons = [
            [InlineKeyboardButton(text="üéõ –ü–∞–Ω–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏",
                                  callback_data="admin_support_dashboard")],
            [InlineKeyboardButton(text="üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                                  callback_data="admin_stats")],
            [InlineKeyboardButton(text="üé´ –¢–∏–∫–µ—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏",
                                  callback_data="admin_tickets")],
            [InlineKeyboardButton(text="üí≠ –û—Ç–∑—ã–≤—ã",
                                  callback_data="admin_feedback")],
            [InlineKeyboardButton(text="üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ",
                                  callback_data="admin_schedule")],
            [InlineKeyboardButton(text="üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏",
                                  callback_data="admin_users")],
            [InlineKeyboardButton(text="üì¢ –†–∞—Å—Å—ã–ª–∫–∞",
                                  callback_data="admin_broadcast")],
            [InlineKeyboardButton(text="‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
                                  callback_data="admin_settings")],
            [InlineKeyboardButton(text="üîß –°–∏—Å—Ç–µ–º–∞",
                                  callback_data="admin_system")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
                                  callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def admin_support_menu() -> InlineKeyboardMarkup:
        """–ê–¥–º–∏–Ω –º–µ–Ω—é –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π"""
        buttons = [
            [InlineKeyboardButton(text="üéõ –ü–∞–Ω–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏",
                                  callback_data="admin_support_dashboard")],
            [InlineKeyboardButton(text="üö® –°—Ä–æ—á–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã",
                                  callback_data="admin_urgent_tickets")],
            [InlineKeyboardButton(text="üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                                  callback_data="admin_detailed_stats")],
            [InlineKeyboardButton(text="üë• –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",
                                  callback_data="admin_staff_activity")],
            [InlineKeyboardButton(text="üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ –¥–Ω—è–º",
                                  callback_data="admin_daily_metrics")],
            [InlineKeyboardButton(text="üîç –ü–æ–∏—Å–∫ —Ç–∏–∫–µ—Ç–æ–≤",
                                  callback_data="admin_search_tickets")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥", callback_data="admin_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def admin_support_dashboard_menu() -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é –¥–ª—è –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π"""
        buttons = [
            [InlineKeyboardButton(text="üö® –°—Ä–æ—á–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã",
                                  callback_data="admin_urgent_tickets")],
            [InlineKeyboardButton(text="üìä –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                                  callback_data="admin_detailed_stats")],
            [InlineKeyboardButton(text="üë• –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",
                                  callback_data="admin_staff_activity")],
            [InlineKeyboardButton(text="üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ –¥–Ω—è–º",
                                  callback_data="admin_daily_metrics")],
            [InlineKeyboardButton(text="üìã –í—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ç–∏–∫–µ—Ç—ã",
                                  callback_data="admin_open_tickets")],
            [InlineKeyboardButton(text="üîÑ –û–±–Ω–æ–≤–∏—Ç—å",
                                  callback_data="admin_support_dashboard")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥", callback_data="admin_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def admin_urgent_tickets_menu() -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö —Ç–∏–∫–µ—Ç–æ–≤"""
        buttons = [
            [InlineKeyboardButton(text="üîÑ –û–±–Ω–æ–≤–∏—Ç—å",
                                  callback_data="admin_urgent_tickets")],
            [InlineKeyboardButton(text="üìã –í—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ç–∏–∫–µ—Ç—ã",
                                  callback_data="admin_open_tickets")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥",
                                  callback_data="admin_support_dashboard")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def admin_stats_menu() -> InlineKeyboardMarkup:
        """–ú–µ–Ω—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏"""
        buttons = [
            [InlineKeyboardButton(text="üë• –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",
                                  callback_data="admin_staff_activity")],
            [InlineKeyboardButton(text="üìà –ü–æ –¥–Ω—è–º",
                                  callback_data="admin_daily_metrics")],
            [InlineKeyboardButton(text="üîÑ –û–±–Ω–æ–≤–∏—Ç—å",
                                  callback_data="admin_detailed_stats")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥",
                                  callback_data="admin_support_dashboard")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def admin_back_to_dashboard() -> InlineKeyboardMarkup:
        """–í–æ–∑–≤—Ä–∞—Ç –∫ –ø–∞–Ω–µ–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏"""
        return InlineKeyboardMarkup(inline_keyboard=[
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ –ø–∞–Ω–µ–ª–∏",
                                  callback_data="admin_support_dashboard")]
        ])

    # ================== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ö–õ–ê–í–ò–ê–¢–£–†–´ ==================

    @staticmethod
    def confirmation_keyboard(confirm_data: str, cancel_data: str = "main_menu") -> InlineKeyboardMarkup:
        """–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"""
        buttons = [
            [InlineKeyboardButton(text="‚úÖ –î–∞", callback_data=confirm_data)],
            [InlineKeyboardButton(text="‚ùå –ù–µ—Ç", callback_data=cancel_data)]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def pagination_keyboard(current_page: int, total_pages: int, prefix: str) -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏"""
        buttons = []

        # –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
        nav_buttons = []
        if current_page > 1:
            nav_buttons.append(InlineKeyboardButton(text="‚óÄÔ∏è –ü—Ä–µ–¥",
                                                    callback_data=f"{prefix}_page_{current_page-1}"))

        nav_buttons.append(InlineKeyboardButton(text=f"{current_page}/{total_pages}",
                                                callback_data="noop"))

        if current_page < total_pages:
            nav_buttons.append(InlineKeyboardButton(text="–°–ª–µ–¥ ‚ñ∂Ô∏è",
                                                    callback_data=f"{prefix}_page_{current_page+1}"))

        if nav_buttons:
            buttons.append(nav_buttons)

        # –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
        buttons.append([InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥", callback_data="main_menu")])

        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def loading_keyboard() -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –∑–∞–≥—Ä—É–∑–∫–∏"""
        return InlineKeyboardMarkup(inline_keyboard=[
            [InlineKeyboardButton(text="‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...", callback_data="loading")]
        ])

    @staticmethod
    def error_keyboard() -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –æ—à–∏–±–æ–∫"""
        return InlineKeyboardMarkup(inline_keyboard=[
            [InlineKeyboardButton(text="üîÑ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞", callback_data="retry")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ])

    @staticmethod
    def workshop_register_keyboard() -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å"""
        return InlineKeyboardMarkup(inline_keyboard=[
            [InlineKeyboardButton(text="üìù –ó–∞–ø–∏—Å–∞—Ç—å—Å—è", callback_data="workshop_register")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥ –∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º", callback_data="activities")],
            [InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")]
        ])

    @staticmethod
    def contact_info_keyboard() -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π"""
        buttons = []

        # –ï—Å–ª–∏ –µ—Å—Ç—å email –ø–æ–¥–¥–µ—Ä–∂–∫–∏
        if hasattr(config, 'SUPPORT_EMAIL') and config.SUPPORT_EMAIL:
            buttons.append([InlineKeyboardButton(text="üìß Email –ø–æ–¥–¥–µ—Ä–∂–∫–∏",
                                                 url=f"mailto:{config.SUPPORT_EMAIL}")])

        # –ì—Ä—É–ø–ø–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (–µ—Å–ª–∏ –ø—É–±–ª–∏—á–Ω–∞—è)
        # buttons.append([InlineKeyboardButton(text="üë• –ì—Ä—É–ø–ø–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏",
        #                                      url="https://t.me/your_support_group")])

        buttons.append([InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="main_menu")])

        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def quick_actions_keyboard() -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π"""
        buttons = [
            [InlineKeyboardButton(text="üÜò –°—Ä–æ—á–Ω–∞—è –ø–æ–º–æ—â—å", callback_data="support")],
            [InlineKeyboardButton(text="üìÖ –°–µ–≥–æ–¥–Ω—è—à–Ω–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ", callback_data="schedule_today")],
            [InlineKeyboardButton(text="üó∫ –ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è", callback_data="navigation")],
            [InlineKeyboardButton(text="üí≠ –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∑—ã–≤", callback_data="feedback")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    # ================== –°–ü–ï–¶–ò–ê–õ–¨–ù–´–ï –ö–õ–ê–í–ò–ê–¢–£–†–´ ==================

    @staticmethod
    def emergency_keyboard() -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤"""
        buttons = [
            [InlineKeyboardButton(text="üöë –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å", callback_data="emergency_medical")],
            [InlineKeyboardButton(text="üöî –°–ª—É–∂–±–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏", callback_data="emergency_security")],
            [InlineKeyboardButton(text="üî• –ü–æ–∂–∞—Ä–Ω–∞—è —Å–ª—É–∂–±–∞", callback_data="emergency_fire")],
            [InlineKeyboardButton(text="üìû –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Å–≤—è–∑—å 112", url="tel:112")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def accessibility_keyboard() -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –ª—é–¥–µ–π —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏"""
        buttons = [
            [InlineKeyboardButton(text="‚ôø –î–æ—Å—Ç—É–ø–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è", callback_data="accessibility_navigation")],
            [InlineKeyboardButton(text="üöª –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç—É–∞–ª–µ—Ç—ã", callback_data="accessibility_toilets")],
            [InlineKeyboardButton(text="üé´ –õ—å–≥–æ—Ç–Ω—ã–µ –±–∏–ª–µ—Ç—ã", callback_data="accessibility_tickets")],
            [InlineKeyboardButton(text="üìû –ü–æ–º–æ—â—å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—â–µ–≥–æ", callback_data="accessibility_help")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)

    @staticmethod
    def language_keyboard() -> InlineKeyboardMarkup:
        """–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞"""
        buttons = [
            [InlineKeyboardButton(text="üá∑üá∫ –†—É—Å—Å–∫–∏–π", callback_data="lang_ru")],
            [InlineKeyboardButton(text="üá¨üáß English", callback_data="lang_en")],
            [InlineKeyboardButton(text="üá©üá™ Deutsch", callback_data="lang_de")],
            [InlineKeyboardButton(text="üá´üá∑ Fran√ßais", callback_data="lang_fr")],
            [InlineKeyboardButton(text="‚óÄÔ∏è –ù–∞–∑–∞–¥", callback_data="main_menu")]
        ]
        return InlineKeyboardMarkup(inline_keyboard=buttons)